# Data Model: AI Finance Analyzer

**Generated**: 2025-11-15

This document outlines the key data entities for the financial analysis backend. These models will be implemented using Pydantic to ensure data validation and schema consistency.

---

## 1. AnalysisJob

Represents the entire process from file upload to analysis completion.

-   **`job_id`** (string, UUID): Unique identifier for the analysis task.
-   **`status`** (string): The current status of the job.
    -   Enum: `PENDING`, `IN_PROGRESS`, `COMPLETED`, `FAILED`
-   **`error_message`** (string, optional): A descriptive message if the job failed.
-   **`created_at`** (string, datetime): The timestamp when the job was created.

---

## 2. Transaction

Represents a single financial transaction extracted from the user's file.

-   **`id`** (string, UUID): A unique identifier for the transaction within our system.
-   **`date`** (string, date): The date the transaction occurred.
-   **`description`** (string): The original transaction description/memo.
    -   *Validation*: Must be a non-empty string.
-   **`amount`** (float): The monetary value of the transaction. Can be positive or negative.
    -   *Validation*: Must be a valid number.
-   **`currency`** (string): The currency code (e.g., "USD").
    -   *Validation*: Must be a 3-letter currency code. Defaults to "USD" if not provided.
-   **`category`** (string): The expense category assigned by the AI model.
    -   *Defaults to*: `Uncategorized`.

---

## 3. Category

Represents a classification for an expense. This is a simple string entity for now. Examples include "Groceries", "Utilities", "Transport", "Entertainment".

---

## 4. Insight

Represents a structured piece of financial information generated by the system. This is a flexible entity.

-   **`type`** (string): The type of insight.
    -   Enum: `SPENDING_PATTERN`, `ANOMALY_DETECTED`
-   **`title`** (string): A short, human-readable title for the insight (e.g., "Unusually High Spending in 'Restaurants'").
-   **`description`** (string): A detailed explanation of the insight.
-   **`data`** (dict): A flexible dictionary containing supporting data for the insight (e.g., list of transaction IDs, comparison values).

---

## 5. Prediction

Represents a forecast of future spending.

-   **`period`** (string): The time period for the prediction (e.g., "2025-12").
-   **`predicted_amount`** (float): The total predicted spending for the period.
-   **`confidence_score`** (float): A score between 0 and 1 indicating the model's confidence in the prediction.
